unit USaidaProdutos;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.ExtCtrls, Vcl.StdCtrls, Vcl.ComCtrls,
  Data.DB, Vcl.Grids, Vcl.DBGrids;

type
  TFormSaidaPed = class(TForm)
    Panel1: TPanel;
    Panel2: TPanel;
    Panel3: TPanel;
    PageControlPesquisa: TPageControl;
    TabSheet2: TTabSheet;
    Label1: TLabel;
    RGPesquisa: TRadioGroup;
    EdPesquisa: TEdit;
    Label3: TLabel;
    LBCod: TLabel;
    Label5: TLabel;
    PageControl1: TPageControl;
    Compra: TTabSheet;
    Label2: TLabel;
    Label4: TLabel;
    EdQtd: TEdit;
    BtnAdd: TButton;
    EdCusto: TEdit;
    LBCodProd: TLabel;
    LBQtd: TLabel;
    DBGridSaidaProd: TDBGrid;
    procedure BtnAddClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FormSaidaPed: TFormSaidaPed;

implementation

{$R *.dfm}

uses UDMDados;

procedure TFormSaidaPed.BtnAddClick(Sender: TObject);
begin
   var sql1 : string;
begin
    DMDados.FDQProdutos.Close();
    DMDados.FDQProdutos.SQL.Clear;
    //DMDados.FDQProdutos.Open();
    sql1 :='update produtos set quantidade = '  +QuotedStr( EdQtd.Text)
    + ', custo_unitario = '  +QuotedStr( EdCusto.Text)
    +' where codigo_prod = ' +QuotedStr( LBCodProd.Caption);

    DMDados.FDQProdutos.ExecSQL(sql1);
     ShowMessage('Compra ralizada com Sucesso') ;
end;

end;

end.
